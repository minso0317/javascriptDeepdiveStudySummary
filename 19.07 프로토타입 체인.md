```jsx
function Person(name) {
  this.name = name;
}

// 프로토타입 메서드
Person.prototype.sayHello = function () {
  console.log(`Hi! My name is ${this.name}`);
};

const me = new Person('Lee');

// hasOwnProperty는 Object.prototype의 메서드다.
console.log(me.hasOwnProperty('name')); // true
```

Person 생성자 함수에 의해 생성된 me 객체는 Object.prototype의 메서드인 hasOwnProperty를 호출할 수 있다.

이것은 me 객체가 Person.prototype뿐만 아니라 Object.prototype도 상속받았다는 것을 의미한다.

```jsx
Object.getPrototypeOf(me) === Person.prototype; // -> true

Object.getPrototypeOf(Person.prototype) === Object.prototype; // -> true
```

Person.prototype의 프로토타입은 Object.prototype이다.

프로토타입의 프로토타입은 항상 Object.prototype이다.

<div align=center><img width="600" alt="19-18" src="https://github.com/user-attachments/assets/b04468c9-1902-44df-b0d7-3eee0a587c0e" /></div>

자바스크립트는 객체에 존재하지 않는 프로퍼티(또는 메서드)에 접근하려 할 때, 해당 객체의 Prototype을 따라 상위 프로토타입에서 순차적으로 탐색한다. 

이를 프로토타입 **체인**이라 하며, 자바스크립트의 상속 **메커니즘**을 구현하는 핵심 원리다.

```jsx
// hasOwnProperty는 Object.prototype의 메서드다.
// me 객체는 프로토타입 체인을 따라 hasOwnProperty 메서드를 검색하여 사용한다.
me.hasOwnProperty('name'); // -> true
```

자바스크립트 엔진은 다음과 같은 과정으로 메서드를 검색한다.

1. **me 객체에서 탐색 시작**
    - `me.hasOwnProperty()` 호출 시,
    - `me` 객체 자신에게 `hasOwnProperty` 메서드가 있는지 확인함.
    - 없으면 **프로토타입 체인**을 따라 탐색을 이어감.
2. **Person.prototype에서 탐색**
    - `me` 객체는 `Person.prototype`을 상속받음.
    - `Person.prototype`에도 `hasOwnProperty`가 없으므로 다시 상위 프로토타입으로 이동.
3. **Object.prototype에서 발견**
    - `Object.prototype`에서 `hasOwnProperty` 메서드를 발견.
    - 이 메서드가 실행되며, **`this`는 원래 호출한 객체인 `me`로 바인딩됨**.

```jsx
Object.prototype.hasOwnProperty.call(me, 'name');
```

프로토타입 체인의 최상위 객체는 항상 Object.prototype이다.

따라서 모든 객체는 Object.prototype을 상속받는다.

Object.prototype을 프로토타입 체인의 종점이라 한다.

Object.prototype의 프로토타입, 즉 Prototype 내부 슬롯의 값은 null이다.

프로토타입 체인의 종점인 Object.prototype에서도 프로퍼티를 검색할 수 없는 경우 undefined를 반환한다.

```jsx
console.log(me.foo); // undefined
```

이처럼 자바스크립트 엔진은 프로토타입 체인을 따라 프로퍼티/메서드를 검색한다.

프로토타입 체인은 상속과 프로퍼티 검색을 위한 메커니즘이다.

반면, 프로퍼티가 아닌 식별자는 스코프 체인에서 검색한다. 따라서 스코프체인은 식별자 검색을 위한 메커니즘이다.

```jsx
me.hasOwnProperty('name');
```

위 코드는 먼저 스코프 체인에서 me 식별자를 검색한다. 전역에서 선언되었으므로 전역 스코프에서 검색이 된다. 그 후 me 객체의 프로포타입 체인에서 hasOwnProperty 메서드를 검색한다.

이처럼 스코프체인과 프로토타입 체인은 서로 별도로 동작하는 것이 아니라 서로 협력하여 식별자와 프로퍼티를 검색하는데 사용된다.
